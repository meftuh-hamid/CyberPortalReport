/**
* DevExpress HTML/JS Reporting (designer\controls\utils\_initUtils.js)
* Version:  22.2.4
* Build date: Jan 25, 2023
* Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
* License: https://www.devexpress.com/Support/EULAs/universal.xml
*/
import { roundingXDecimals } from '@devexpress/analytics-core/analytics-internal';
import * as ko from 'knockout';
export function getUnitProperties(object) {
    var properties = object && object['constructor'] && object['constructor'].unitProperties;
    if (properties) {
        return {
            reCalculateObject: (coef) => {
                for (var i = 0; i < properties.length; i++) {
                    var propertyName = properties[i];
                    var property = object['_' + propertyName] || object[propertyName];
                    var innerProperties = getUnitProperties(property);
                    if (innerProperties) {
                        innerProperties.reCalculateObject(coef);
                    }
                    else {
                        !!ko.unwrap(property) && property(roundingXDecimals(ko.unwrap(property) * coef));
                    }
                }
            },
            calcProperty: (val, coef) => val && roundingXDecimals(val * coef),
            properties
        };
    }
}
